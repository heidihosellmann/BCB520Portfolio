{
  "hash": "e76193a77551fc41b7a1c5f59ccba21b",
  "result": {
    "markdown": "---\ntitle: \"BCB 520 Assignment 3 - Task Abstraction\"\nauthor: \"Heidi Sellmann\"\nformat:\n  html:\n    embed-resources: true\neditor: visual\ncode-fold: true\n---\n\n\n## Import Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nCytokine_summary <- read_excel(\"Cytokine_summary.xlsx\")\nView(Cytokine_summary)\nknitr::kable(Cytokine_summary)\n```\n\n::: {.cell-output-display}\n|Pig | IL1B_Jej_pg_mL| IL1B_Ile_pg_mL| IL1B_Col_pg_mL| TNFA_Jej_pg_mL| TNFA_Ile_pg_mL| TNFA_Col_pg_mL| IL8_Jej_pg_mL| IL8_Ile_pg_mL| IL8_Col_pg_mL|\n|:---|--------------:|--------------:|--------------:|--------------:|--------------:|--------------:|-------------:|-------------:|-------------:|\n|P1  |        158.107|        258.529|         18.902|         10.084|        191.685|         67.410|      2717.095|      3244.064|        48.389|\n|C1  |        304.570|        300.510|        173.388|          5.293|        148.321|         53.500|      1807.191|      2747.520|       521.019|\n|HM1 |        126.749|         92.684|         80.020|          0.000|        163.895|          0.000|      2163.072|      1842.670|        93.936|\n|HM2 |         90.214|         72.580|         75.545|          0.000|        130.676|          0.000|      3434.170|      3433.543|       194.084|\n|HM3 |        114.224|         79.751|        239.901|          0.000|          0.000|         28.050|      1649.797|      1678.069|       334.678|\n|HM4 |        132.318|        107.964|        155.655|          3.612|          5.265|         18.105|      3390.124|      3088.125|       373.427|\n|HM5 |         68.657|         49.695|         12.045|          0.000|        112.351|          0.000|      3148.633|      3153.588|       172.843|\n|HM6 |        112.428|         57.860|         52.582|          0.000|          0.000|          0.000|      3088.206|      4084.593|       183.157|\n|P2  |        194.675|        145.165|         63.666|         12.729|         18.287|         89.610|      2474.794|      2692.826|       880.425|\n|C2  |        401.575|        564.465|        305.068|         42.442|         17.261|         84.509|      1635.162|      1030.576|       255.938|\n|IF1 |        174.037|        130.035|         38.956|          0.000|        105.243|          3.978|      2013.397|      1678.351|        49.232|\n|IF2 |        126.663|        115.666|         76.857|          0.000|         63.294|          4.975|      3399.788|      1727.786|       116.573|\n|IF3 |        141.120|         53.064|        182.891|          4.574|          0.000|         12.948|      3766.222|       504.454|        38.554|\n|IF4 |        132.275|         78.283|         18.266|          9.628|        154.257|          0.000|      3705.406|      2293.403|       222.193|\n|IF5 |        111.800|         91.316|         82.741|          0.000|        223.890|          4.293|      3228.713|      2499.064|       103.378|\n|IF6 |        159.411|        120.352|         31.099|          0.000|          5.171|          0.000|      2001.489|      2659.008|       173.974|\n:::\n:::\n\n\n## Load Libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyverse' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'dplyr' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'stringr' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'forcats' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'lubridate' was built under R version 4.3.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n\nNow that I have the necessary data and packages, I want to make a box blot distribution of my various cytokines per pig feeding group - HM, IF, P, and C. Barrie helped me with this! \n\n## Organize the Data\n\nHere we add another column into Cytokine_summary via R\n\n::: {.cell}\n\n```{.r .cell-code}\nCytokine_summary <- Cytokine_summary %>%\n  mutate(Diet = str_sub(Pig, 1, 1))\n```\n:::\n\n\n## What does each diet look like?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Cytokine_summary, aes(x = Diet, y = IL1B_Jej_pg_mL)) + \n  geom_boxplot() + \n  geom_jitter()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Individual distributions-1.png){width=672}\n:::\n:::\n\n### Legend: \nC = Farm Control\n\nH = HM\n\nI = IF \n\nP = Lab Control\n\nNow I could create individual ones of these for each column... but we are going to try to work smarter, not harder, and create a new data frame to get all these types of plots into 1 figure.\n\n## Creating 9 plots in 1 figure\n\nFirst we break up the columns 2-10 to their cytokine and their region. \n\n::: {.cell}\n\n```{.r .cell-code}\nCytokine_long <- Cytokine_summary %>%\n  pivot_longer(cols = 2:10, names_to =\"Reg_Cyt\",\n values_to = \"Expression\") %>%\n  separate(Reg_Cyt, into = c(\"Cytokine\", \"Region\"), sep = \"_\", remove = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Expected 2 pieces. Additional pieces discarded in 144 rows [1, 2, 3, 4, 5, 6,\n7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...].\n```\n:::\n:::\n\nAlthough error is not ideal, Cytokine_long looks good! \n\nNow to put that into a boxplot with jitter overlay. We facet_wrapped in order to make subplots from 1 plot (slice it up for the viewers).\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Cytokine_long, aes(x = Diet, y = Expression)) + \n  geom_boxplot() + \n  geom_jitter() + \n  facet_wrap(Region ~ Cytokine, scales = \"free_y\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Cytokine_long into boxplot/jitter plot-1.png){width=672}\n:::\n:::\n\n\nGreat! Now we can move forward looking into normality assumptions and deeper comparisons between particular feeding groups. Perhaps we can use the different regions of the GI tract as blocking factors... More to come! \n\nThoughts to address: Get rid of error output? Add colors? Pick up with Result project! Also, get it so HM and IF?\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}