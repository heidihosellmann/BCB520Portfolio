{
  "hash": "4fdbd40432e76703ab630cea32f11641",
  "result": {
    "markdown": "---\ntitle: \"BCB 520 - Midterm Portfolio Post\"\nsubtitle: \"Evaluating Awards and Grants: UI vs. Others\"\nauthor: \"Heidi Sellmann\"\ndate: \"2024-03-11\"\ncategories: [Assignment, DataViz, Tables, Project]\nimage: \"grants.jpg\"\ncode-fold: true\ncode-tools: true\ncode-link: true\ndescription: \"Grants and awards and bears, oh my!\"\nformat: \n  html:\n    css: styles.css\neditor: \n  markdown: \n    wrap: 72\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(echo=FALSE, warning=FALSE, error=FALSE, message=FALSE)\n```\n:::\n\n\n# PREABLE\n\nYou may be wondering what this midterm assignment addresses... Well, in\nthis workup, I will evaluate how the University of Idaho compares to\nneighboring institutions in terms of grants awarded and productivity\nfrom those awards.\n\nI will be evaluating award/grant data from four federal sponsors:\n\nThe National Science Foundation, The National Institutes of Health, The\nDepartment of Energy, and The US Department of Agriculture.\n\nWhy is the question or purpose important? We shall find out!\n\n# DATA\n\n\n::: {.cell}\n\n:::\n\n\n**1. Department of Agriculture (NIFA)** A snippet of the awards from\nUSDA pertaining to UI are included below. See the data dictionary here\n@fig-USDAtoUIDataDict. This includes agricultural related grants all the\nway from the early 2000s.\n\n\n::: {.cell}\n::: {.cell-output-display}\n|Award.Date |Grant.Number     |Proposal.Number |Grant.Title |State.Name |Grantee.Name               | Award.Dollars|Program.Name |Program.Area.Name |\n|:----------|:----------------|:---------------|:-----------|:----------|:--------------------------|-------------:|:------------|:-----------------|\n|9/30/2010  |2010-48679-01200 |N/A             |N/A         |IDAHO      |SAES - UNIVERSITY OF IDAHO |          7495|N/A          |N/A               |\n|9/30/2009  |2009-48679-01200 |N/A             |N/A         |IDAHO      |SAES - UNIVERSITY OF IDAHO |          6813|N/A          |N/A               |\n|9/30/2008  |2008-48679-01200 |N/A             |N/A         |IDAHO      |SAES - UNIVERSITY OF IDAHO |          8524|N/A          |N/A               |\n|9/30/2003  |2003-48604-01200 |N/A             |N/A         |IDAHO      |SAES - UNIVERSITY OF IDAHO |          1097|N/A          |N/A               |\n|9/30/2010  |2010-48024-01200 |N/A             |N/A         |IDAHO      |SAES - UNIVERSITY OF IDAHO |         11997|N/A          |N/A               |\n|9/30/2009  |2009-48024-01200 |N/A             |N/A         |IDAHO      |SAES - UNIVERSITY OF IDAHO |         14990|N/A          |N/A               |\n:::\n:::\n\n\n**2. Department of Energy (DOE)** A snippet of these awards (all awards,\nnot just U of I's) are included below. ![DOE](DOE.png)\n\nThe data dictionary for this extensive data set can be accessed here\n@fig-DOEDataDict. This data is not restricted to a particular award\nrecipient.\n\n\n::: {.cell}\n\n:::\n\n\n**3. National Institutes of Health (NIH)** This data can be obtained\nfrom an Application Programming Interface (API).\n\n*Before this assingmnet, I had never heard of APIs. Apparently, they are\nfancy tools that allow different software components to communicate with\neach other.*\n\nBarrie graciously provided code to help us access this information.\nAgain, a snippet is included. ![NIH](NIH.png)\n\nYou can access this data's dictionary here @fig-project_dfDataDict. This\nis quite a large data set with information on awards (related to health\nsciences) recieved by BSU and U of I between 2013-2024. Of note, this is\nan example of heirarchal data- some cells appear to have no values in\nthem becuase there are actually multiple variables within those cells.\nIt gets complex!\n\n\n::: {.cell}\n\n:::\n\n\n**4. National Science Foundation (NSF)** The NSF also has an API, and\nthe following code pulled down awards to the University of Idaho into a\ndata frame called NSFtoUI. A snapshot of it is shown here.\n![NSF](NSF.png)\n\nSee the data dictionary here @fig-NSFtoUIDataDict. Briefly, this data\nset gives information on NSF grants awarded to the University of Idaho\nfrom 1975 to current day.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n# VISUALIZATIONS\n\nCreate your visualizations in response to the questions and prompts.\nAnswer the questions and prompts directly. Draw a conclusion or\ninference related to each. Identify limitations and the types of data\nyou would need to mitigate those limitations. Also include text that\nexplains any steps or design choices you considered while exploring the\nvizualization options \\[this normally wouldn’t appear in the report to\nthe vice president, but I’d like a window into your process\\]. Be sure\nto include clearly labeled axes and a concise but complete figure\ncaption for each visualization. Make deliberate choices for color\npalettes, point marks, line types, etc. Demonstrate that you understand\nthe concepts we have covered!\n\n# SUMMARY\n\nSummarize your results. What new questions have emerged as a result of\nyour visualizations? What interesting next steps have emerged?\n\n# QUESTION 1\n\nProvide a visualization that shows our active awards from each sponsor.\nI need to see their start date and end date, the amount of the award,\nand the name of the Principal Investigator. I’m really interested in\nseeing how far into the future our current portfolio will exist. Are\nthere a bunch of awards about to expire? Are there a bunch that just got\nfunded and will be active for a while? Does this vary across sponsors?\n\n## Practice with just \"DOEawards\"\n\n\n::: {.cell}\n\n:::\n\n\n# QUESTION 2\n\nWhat is the proportional representation of new awards to the UI from\nthese various sources over the past 5 to 10 years? Are there any trends\nthat are encouraging or discouraging?\n\n## Practice with new grant counts for just \"DOEawards\"\n\nI started working on this just using \"DOEawards\" and ChapGPT\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Assignment-6-Midterm_files/figure-html/DOE New Grant Counts-1.png){width=672}\n:::\n:::\n\n\nFigure . captures the number of new grants the DOE awarded to the\nUniversity of Idaho during the past 10 years.\n\nAs we can see, not much from the past 10 years!\n\n## Now to expand to the other datasets.\n\nI am first going to filter and make seperate dataframes for all sponsors\nand then combine and graph.\n\nLet's start by finishing DOE new grants count\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 3\n   Year Count Sponsor\n  <dbl> <int> <chr>  \n1  2020     1 DOE    \n2  2021     2 DOE    \n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n    Year Count Sponsor\n   <dbl> <int> <chr>  \n 1  2014     9 NSF    \n 2  2015    11 NSF    \n 3  2016     5 NSF    \n 4  2017    14 NSF    \n 5  2018    10 NSF    \n 6  2019     6 NSF    \n 7  2020    13 NSF    \n 8  2021    12 NSF    \n 9  2022     8 NSF    \n10  2023     8 NSF    \n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n   Year Count Sponsor\n  <dbl> <int> <chr>  \n1  2024     7 NIH    \n```\n:::\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 11 × 3\n    Year Count Sponsor\n   <dbl> <int> <chr>  \n 1  2014    18 USDA   \n 2  2015    33 USDA   \n 3  2016    29 USDA   \n 4  2017    23 USDA   \n 5  2018    22 USDA   \n 6  2019    27 USDA   \n 7  2020    42 USDA   \n 8  2021    52 USDA   \n 9  2022    31 USDA   \n10  2023    28 USDA   \n11  2024     9 USDA   \n```\n:::\n:::\n\n\nNow let's combine the individual, mutated dataframe for each sponsor and\nput them altogether for a visualization.\n\n## Putting all the sponsors together\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Assignment-6-Midterm_files/figure-html/Visualizing all sponsors-1.png){width=672}\n:::\n:::\n\n\nFigure shows the approximate trends of new grants recieved by the\nUniversity of Idaho from various sponsors in the last 10 years.\n\nLimitations = the USDA dataset did not have specifications denoting\nwhether the awards were new or continuing, therefore, I was only able to\ngo off the award date for being in the last 10 years and had to make the\nassumption all were new. This is most likely not the case, so the orange\nline should be interpreted with caution. In general, the USDA acutually\nseems to be on the decline, which would be concerning. As for the DOE,\nit seems we are on the rise during the past couple years. NSF seems to\nbe steady at the moment. Meanwhile, the NIH does not have much history\nof giving new grants to the UI in the past 10 years, but hopefully being\non the board will start the ball rolling.\n\n# QUESTION 3\n\nHow is UI performing with these sponsors when compared to the following\npeer institutions?\n\nBoise State University Idaho State University Montana State University\nUniversity of Montana Washington State University\n\nNote that “performing” can mean a variety of different things. You must\nchoose your metrics of performance and justify them.\n\n# APPENDIX\n\n## Data Dictionary\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {#fig-USDAtoUIDataDict .cell-output-display}\n|Attribute         |Description                                           |Type         |\n|:-----------------|:-----------------------------------------------------|:------------|\n|Award Date        |Date when award was granted                           |Ordinal      |\n|Grant Number      |Unique ID for each grant                              |Item         |\n|Proposal Number   |N/A for all                                           |NA           |\n|Grant Title       |N/A for all                                           |NA           |\n|State Name        |State of award (all = IDAHO)                          |Categorical  |\n|Grantee Name      |Tells who received the grant (all = U of I)           |Categorical  |\n|Award Dollars     |Award amount                                          |Quantitative |\n|Program Name      |Name of program grant will be used for (some are N/A) |Categorical  |\n|Program Area Name |Name of program (some have N/A)                       |Categorical  |\n\n\n\nUSDAtoUI Data Dictionary\n:::\n:::\n\n::: {.cell}\n::: {#fig-DOEDataDict .cell-output-display}\n|Attribute              |Description                                                                                                                                   |Type...3     |...4 |...5 |...6 |Type...7     |\n|:----------------------|:---------------------------------------------------------------------------------------------------------------------------------------------|:------------|:----|:----|:----|:------------|\n|Award Number           |ID of award                                                                                                                                   |Item         |NA   |NA   |NA   |Ordinal      |\n|Title                  |Title of award                                                                                                                                |Item         |NA   |NA   |NA   |Item         |\n|Institution            |Organization to whom award was granted. Some are universities, but others are companies and laboratories (many are included, not just U of I) |Item         |NA   |NA   |NA   |Ordinal      |\n|City                   |City of that organization (many- not restricted to Moscow)                                                                                    |Item         |NA   |NA   |NA   |Ordinal      |\n|State                  |State of that organization (many, not restricted to ID)                                                                                       |Item         |NA   |NA   |NA   |Ordinal      |\n|Zip Code               |Zipcode of that organization                                                                                                                  |Item         |NA   |NA   |NA   |Quantitative |\n|PI                     |Principle Investigator to whom award was granted                                                                                              |Item         |NA   |NA   |NA   |Quantitative |\n|Status                 |Tells if award is ongoing or not (seems that only active/current awards are included in this data set)                                        |Categorical  |NA   |NA   |NA   |Categorical  |\n|Action Type            |Tells if the award is new or a renewal                                                                                                        |Categorical  |NA   |NA   |NA   |Item         |\n|Org Code               |Unique code for the award                                                                                                                     |Item         |NA   |NA   |NA   |Ordinal      |\n|SBIR/STTR              |Tells if the awards are SBIR (Small Business Innovation Research) or STTR (Small Business Technology Transfer) programs. Neither = N/A        |Categorical  |NA   |NA   |NA   |Quantitative |\n|Program Office         |Tells what DOE program office oversees the award                                                                                              |Categorical  |NA   |NA   |NA   |NA           |\n|Award Type             |Tells type of award (grant, interagency agreement, cooperative agreement)                                                                     |Categorical  |NA   |NA   |NA   |NA           |\n|PM                     |Project Manager (appear to be different people than PI)                                                                                       |Item         |NA   |NA   |NA   |NA           |\n|Start Date             |Award start date                                                                                                                              |Ordinal      |NA   |NA   |NA   |NA           |\n|End Date               |Award end date                                                                                                                                |Ordinal      |NA   |NA   |NA   |NA           |\n|SBIR Phase             |If applicable, phase of SBIR                                                                                                                  |Categorical  |NA   |NA   |NA   |NA           |\n|Most Recent Award Date |Date of most recent award                                                                                                                     |Ordinal      |NA   |NA   |NA   |NA           |\n|Amount Awarded to Date |Money given as of most recent award date                                                                                                      |Quantitative |NA   |NA   |NA   |NA           |\n|Amount Awarded this FY |Amount awarded this fiscal year                                                                                                               |NA           |NA   |NA   |NA   |NA           |\n|Program Area           |What type of program the award will be used towards                                                                                           |Item         |NA   |NA   |NA   |NA           |\n|Register Number        |Unique code for the award                                                                                                                     |Item         |NA   |NA   |NA   |NA           |\n|UEI                    |Unique code for the award                                                                                                                     |Item         |NA   |NA   |NA   |NA           |\n|DUNS                   |Unique code for the award                                                                                                                     |Item         |NA   |NA   |NA   |NA           |\n|Institution Type       |Type of institution that has received the award                                                                                               |Categorical  |NA   |NA   |NA   |NA           |\n|Abstract               |Abstract of what award is proposed to be used for                                                                                             |Item         |NA   |NA   |NA   |NA           |\n\n\n\nDOE Data Dictionary\n:::\n:::\n\n::: {.cell}\n::: {#fig-project_dfDataDict .cell-output-display}\n|Attribute                              |Description                                                                                |Type         |\n|:--------------------------------------|:------------------------------------------------------------------------------------------|:------------|\n|appl id                                |Unique ID                                                                                  |Item         |\n|subproject id                          |Some awards have subproject unique ID values                                               |Item         |\n|fiscal year                            |Year of award                                                                              |Ordinal      |\n|project num                            |Project number (seems to be a grouping variable)                                           |Categorical  |\n|project serial num                     |Project number (seems to be a grouping variable)                                           |Categorical  |\n|award type                             |Type of award (1, 2, 3, 4, 4N, 5)                                                          |Categorical  |\n|activity code                          |Code for award                                                                             |Categorical  |\n|award amount                           |Amount alloted for award                                                                   |Quantitative |\n|is active                              |Tells whether the award is ongoing or not (TRUE/FALSE)                                     |Categorical  |\n|principal investigators                |No values                                                                                  |NA           |\n|contact pi name                        |Names of PIs                                                                               |Item         |\n|program officers                       |No values                                                                                  |NA           |\n|agency ic fundings                     |No values/unsure                                                                           |NA           |\n|cong dist                              |Appears to be a subset of code for awards                                                  |Categorical  |\n|spending categories                    |No values                                                                                  |NA           |\n|project start date                     |Start date                                                                                 |Ordinal      |\n|project end date                       |End date                                                                                   |Ordinal      |\n|opportunity number                     |Appears to be a subset of code for awards                                                  |Categorical  |\n|award notice date                      |Date of notification of award                                                              |Ordinal      |\n|is new                                 |Tells whether the award is new or not (TRUE/FALSE)                                         |Categorical  |\n|mechanism code dc                      |Code for mechanism                                                                         |Categorical  |\n|core project num                       |ID for award                                                                               |Item         |\n|terms                                  |Keywords grant proposes to address with award                                              |Item         |\n|pref terms                             |Preferred keywords                                                                         |Item         |\n|abstract text                          |Abstract                                                                                   |Item         |\n|project title                          |Title of project                                                                           |Item         |\n|phr text                               |Some awards have project narrative text                                                    |Item         |\n|spending categories desc               |Some awards have spending categories                                                       |Item         |\n|agency code                            |All = NIH                                                                                  |Categorical  |\n|covid response                         |No values/unsure                                                                           |NA           |\n|arra funded                            |All = N                                                                                    |Categorical  |\n|budget start                           |Start date of budget                                                                       |Ordinal      |\n|budget end                             |End date of budget                                                                         |Ordinal      |\n|cfda code                              |Number assigned in the awarding document funded by the Federal government (similar to NSF) |Item         |\n|funding mechanism                      |Mechanism for funding (similar to DOE)                                                     |Categorical  |\n|direct cost amt                        |Cost directly of award                                                                     |Quantitative |\n|indirect cost amt                      |Cost indirectly of award                                                                   |Quantitative |\n|project detail url                     |Website of project details                                                                 |Item         |\n|date added                             |Date award added                                                                           |Ordinal      |\n|organization org name                  |Organization of awardee (either U of I or BSU)                                             |Categorical  |\n|organization city                      |No values/unsure                                                                           |NA           |\n|organization country                   |No values/unsure                                                                           |NA           |\n|organization org city                  |City of University (either Moscow or Boise)                                                |Categorical  |\n|organization org country               |Country = USA                                                                              |Categorical  |\n|organization org state                 |State = ID                                                                                 |Categorical  |\n|organization org state name            |No values                                                                                  |NA           |\n|organization dept type                 |Department type being awarded (some have)                                                  |Categorical  |\n|organization fips country code         |No values                                                                                  |NA           |\n|organization org duns                  |No values                                                                                  |NA           |\n|organization org ueis                  |No values                                                                                  |NA           |\n|organization primary duns              |Seems to be some grouping variable                                                         |Categorical  |\n|organization primary uei               |Seems to be some grouping variable                                                         |Categorical  |\n|organization org fips                  |All = US                                                                                   |Categorical  |\n|organization org ipf code              |Seems to be some grouping variable                                                         |Categorical  |\n|organization org zipcode               |Zipcode of organization                                                                    |Categorical  |\n|organization external org id           |Seems to be some grouping variable                                                         |Categorical  |\n|project num split appl type code       |Seems to be values 1-10                                                                    |Categorical  |\n|project num split activity code        |Seems to be some grouping variable                                                         |Categorical  |\n|project num split ic code              |Seems to be some grouping variable                                                         |Categorical  |\n|project num split serial num           |Seems to be some grouping variable                                                         |Categorical  |\n|project num split support year         |Not sure                                                                                   |Categorical  |\n|project num split full support year    |Similar to previous                                                                        |Categorical  |\n|project num split suffix code          |Not sure (only some values have)                                                           |Categorical  |\n|agency ic admin code                   |Appears to be the same as project_num_split.ic_code                                        |Categorical  |\n|agency ic admin abbreviation           |Some sort of abbreviation                                                                  |Categorical  |\n|agency ic admin name                   |Agency name (health related)                                                               |Categorical  |\n|organization type name                 |Type of organization                                                                       |Categorical  |\n|organization type code                 |All = 10                                                                                   |Categorical  |\n|organization type is other             |Extends organization type (TRUE/FALSE)                                                     |Categorical  |\n|full study section srg code            |Seems to be some grouping variable                                                         |Categorical  |\n|full study section srg flex            |Unsure (only some values have)                                                             |Categorical  |\n|full study section sra designator code |Some sort of grouping variable code                                                        |Categorical  |\n|full study section sra flex code       |Unsure (some have letters, some numbers)                                                   |Categorical  |\n|full study section group code          |Some sort of grouping code                                                                 |Categorical  |\n|full study section name                |Section name                                                                               |Categorical  |\n\n\n\nproject_df Data Dictionary\n:::\n:::\n\n::: {.cell}\n::: {#fig-NSFtoUIDataDict .cell-output-display}\n|Attribute             |Description                                                               |Type         |\n|:---------------------|:-------------------------------------------------------------------------|:------------|\n|abstractText          |Text of abstract                                                          |Item         |\n|agency                |Agency awarding (for all = NSF)                                           |Categorical  |\n|awardAgencyCode       |All NSF codes appear to be 4900                                           |Categorical  |\n|awardeeAddress        |Address of awardee (all of these = U of I)                                |Item         |\n|awardeeCity           |City of awardee                                                           |Item         |\n|awardeeCountryCode    |Country of awardee                                                        |Item         |\n|awardeeDistrictCode   |District code of awardee (all = ID01)                                     |Categorical  |\n|awardeeName           |Name of awardee (all = Regents of U of I)                                 |Item         |\n|awardeeStateCode      |State of awardee                                                          |Item         |\n|awardeeZipCode        |Zip code of awardee                                                       |Item         |\n|cfdaNumber            |Number assigned in the awarding document funded by the Federal government |Item         |\n|coPDPI                |Unsure/no values                                                          |NA           |\n|ueiNumber             |Code given to U of I awards (all are the same in this data set)           |Item         |\n|estimatedTotalAmt     |Estimated total amount of award                                           |Quantitative |\n|fundsObligatedAmt     |Amount NSF is obligated to give                                           |Quantitative |\n|fundAgencyCode        |Same code as above awardAgencyCode                                        |Categorical  |\n|fundProgramName       |Various program names                                                     |Item         |\n|id                    |Unique ID for each award                                                  |Item         |\n|parentUeiNumber       |Unsure/no values                                                          |NA           |\n|pdPIName              |Principle Investigator                                                    |Item         |\n|perfAddress           |Preferred address of awardee (most are U of I, some elsewhere)            |Item         |\n|perfCity              |Preferred city                                                            |Item         |\n|perfCountryCode       |Preferred country code                                                    |Item         |\n|perfDistrictCode      |Preferred discrict code                                                   |Item         |\n|perfLocation          |Preferred location (some prefer elsewhere- like Idaho Falls)              |Item         |\n|perfStateCode         |Preferred state code                                                      |Item         |\n|perfZipCode           |Preferred zip code                                                        |Item         |\n|piEmail               |Email of PI                                                               |Item         |\n|piFirstName           |First name of PI                                                          |Item         |\n|piLastName            |Last name of PI                                                           |Item         |\n|piMiddeInitial        |Middle initial of PI                                                      |Item         |\n|poEmail               |Email of Program Officer                                                  |Item         |\n|poName                |Name of Program Officer                                                   |Item         |\n|poPhone               |Phone of PO                                                               |Item         |\n|primaryProgram        |Unsure/no values                                                          |NA           |\n|date                  |Current data?                                                             |Ordinal      |\n|startDate             |Start date of award                                                       |Ordinal      |\n|expDate               |End data of award                                                         |Ordinal      |\n|title                 |Title of award                                                            |Item         |\n|transType             |Type of grant (continuing, standard, fellowship…)                         |Categorical  |\n|awardee               |Again, here = regents of U of I for all                                   |Item         |\n|publicationResearch   |Unsure/no values                                                          |NA           |\n|projectOutComesReport |Some have a snippet on the findings thus far                              |Item         |\n\n\n\nNSF to UI Data Dictionary\n:::\n:::\n",
    "supporting": [
      "Assignment-6-Midterm_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}